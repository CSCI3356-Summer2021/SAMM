{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eagle Tweets - Frontpage</title>
    <link rel="stylesheet" href="{% static 'home/css/home_template/template.css' %}">
    <link rel="stylesheet" href="{% static 'home/css/post_style.css' %}">
    <link rel="stylesheet" href="{% static 'home/css/tweet_box.css' %}">
</head>

<script text="/javascript">
    function postContent() {
        var str = document.getElementById("input-txt").value;
        var newPost = new Post("kennywang", currentDate(), currentTime(), str, document.getElementById('image'), 0, 0, 0);
        displayPost(newPost);
    }
</script>

<body >
    <div class = "left-col">
        <div class = "container1">

            <nav>
                <ul class="navlinks">
                    <li><a href="#"> <img class="icon" src="{% static 'home/graphics/icons/Boston_College_Eagles_logo.jpg' %}" alt="Home"> </a></li>

                    <ul class="home">
                        <li>
                            <a href="#" class="current"> 
                                <div class="navbutton">
                                    <img class="icon" src="{% static 'home/graphics/icons/icons8-home-96.png' %}" alt="Home"> 
                                    <span class="navtext"> Home </span>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <ul class="explore">
                        <li>
                            <a href="#" class="noncurrent"> 
                                <div class="navbutton">
                                    <img class="icon" src="{% static 'home/graphics/icons/icons8-compass-96.png' %}" alt="Explore"> 
                                    <span class="navtext"> Explore </span>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <ul class="messages">
                        <li>
                            <a href="#" class="noncurrent"> 
                                <div class="navbutton">
                                    <img class="icon" src="{% static 'home/graphics/icons/icons8-messages-100.png' %}" alt="Messages"> 
                                    <span class="navtext"> Messages </span>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <ul class="notifications">
                        <li>
                            <a href="#" class="noncurrent">
                                <div class="navbutton">
                                    <img class="icon" src="{% static 'home/graphics/icons/icons8-notification-96.png' %}" alt="Notifications">
                                    <span class="navtext"> Notifications </span>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <ul class="profile">
                        <li>
                            <a href="#" class="noncurrent"> 
                                <div class="navbutton">
                                    <img class="icon" src="{% static 'home/graphics/icons/icons8-male-user-96.png' %}" alt="Profile"> 
                                    <span class="navtext"> Profile </span>
                                </div>
                            </a>
                        </li>
                    </ul>
                </ul>

                <a href="#" class="postbttnlink">
                    <div class="postbutton">
                        <span class="postbttntxt">Post</span>
                    </div>
                </a>

                <a href="#" class="profilelink">
                    <div class="profilebox">
                        <img class="profilePic" src="{% static 'home/graphics/profile_pics/IMG-9004.jpg' %}" alt="Profile">
                        <span class="profiletxt">@kennywang</span>
                    </div>
                </a>

            </nav>
        </div>
    </div>

    <div class="tweetbox">
        <div class="poster">
            <img class="profilePic" src="{% static 'home/graphics/profile_pics/IMG-9004.jpg' %}" alt="Profile">
            
            <input class="post-txt" id="input-txt" type="text" placeholder="What's up?"></input>

            <div class="tweetbox-bottom">
                <input class="tweet-btn" onclick="postContent()" type="submit" value="Post">
            </div>

            <p><input type="file" accept="image/*" id="image"></p>

        </div>
    </div>

    <div class="mid-col">
      <ol class="timeline">
        <script>
                
            function displayPost(post){
                var container = document.querySelector('ol');
                
                var html = 
                `
                    <li class="timeline-item">
                        <div class="post-container">
                            <div class="poster1">
                                <a class="profilelink" href="#">
                                    <img class="profilePic" src="{% static 'home/graphics/profile_pics/IMG-9004.jpg' %}" alt="">
                                    <span class="profiletxt-board">@${post.author}</span>
                                </a>
                        </div>
        

                        <div class="content">
                            <p class="content-txt">
                                ${post.content}
                            </p>
                        </div>

                        <div>
                            <p><img src=${post.image} alt="none"></p>
                        </div>

                        <div class="bottom">
                            <p class="timestamp">
                            <span class="time">${post.date}</span>
                            <span class="date">${post.time}</span>
                        </p>

                        <div class="reaction-btns">
                            <span class="like-count"> ${post.like_count} </span>
                            <input class="like-btn" type="image" src="{% static 'home/graphics/icons/icons8-heart-52.png' %}">
                            <span class="comment-count"> ${post.comment_count} </span>
                            <input class="comment-btn" type="image" src="{% static 'home/graphics/icons/icons8-comments-52.png' %}">
                            <span class="repost-count"> ${post.repost_count} </span>
                            <input class="repost-btn" type="image" src="{% static 'home/graphics/icons/icons8-retweet-48.png' %}">
                        </div>
                    </div>
                </div>
            </li>
            `
            container.insertAdjacentHTML('afterbegin', html);
        }

        function Post(author, date, time, content, image, like_count, comment_count, repost_count, comments){
            this.author = author;
            this.date = date;
            this.time = time;
            this.content = content;

            this.image = document.getElementById('image');

            this.like_count = like_count.toString();
            this.comment_count = comment_count.toString();
            this.repost_count = repost_count.toString();
            this.comments = comments;
        }

        function addZero(num){
            return num < 10 ? `0${num}`:num;
        }

        function currentDate() {
            let today = new Date();

            let month = today.getMonth()+1;
            let year = today.getFullYear();
            let date = today.getDate();
            return `${month}/${date}/${year}`;
        }

        function currentTime(){
            let today = new Date();

            let hours = addZero(today.getHours());
            let minutes = addZero(today.getMinutes());

            if (hours > 12) {
                hours = hours-12;
                let current_time = `${hours}:${minutes} PM`;
                return current_time;
            }
            else {
                let current_time = `${hours}:${minutes} AM`;
                return current_time;
            }
        }
        var post1 = new Post("kennywang", currentDate(), currentTime(), "This is my tweet!", null, 0, 0, 0);

        var threads = [post1];

        console.log(threads);
            threads.forEach((element) => {
                displayPost(element);
                });
        </script>
      </ol>



    </div>


    <div class = "right-col">
        <input class="searchbar" type="text" name="" placeholder="Search users...">

        <section class="results">
            <nav>
                <ul>

                </ul>
            </nav>
        </section>
    </div>


</body>
</html>